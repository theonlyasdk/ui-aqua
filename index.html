<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Aqua</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="platform.css">
    <link rel="stylesheet" href="colors.css">
    <link rel="stylesheet" href="typography.css">
</head>

<body>
    <div class="app">
        <div class="app-bar">
            <h1 class="title">UI Aqua</h1>
            <div class="actions">
                <button class="center options icon-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 1024 1024">
                        <path fill="currentColor"
                            d="M899.4 638.2h-27.198c-2.2-.6-4.2-1.6-6.4-2c-57.2-8.8-102.4-56.4-106.2-112.199c-4.401-62.4 31.199-115.2 89.199-132.4c7.6-2.2 15.6-3.8 23.399-5.8h27.2c1.8.6 3.4 1.6 5.4 1.8c52.8 8.6 93 46.6 104.4 98.6c.8 4 2 8 3 12v27.2c-.6 1.8-1.6 3.6-1.8 5.4c-8.4 52-45.4 91.599-96.801 103.6c-5 1.2-9.6 2.6-14.2 3.8zM130.603 385.8l27.202.001c2.2.6 4.2 1.6 6.4 1.8c57.6 9 102.6 56.8 106.2 113.2c4 62.2-32 114.8-90.2 131.8c-7.401 2.2-15 3.8-22.401 5.6h-27.2c-1.8-.6-3.4-1.6-5.2-2c-52-9.6-86-39.8-102.2-90.2c-2.2-6.6-3.4-13.6-5.2-20.4v-27.2c.6-1.8 1.6-3.6 1.8-5.4c8.6-52.2 45.4-91.6 96.8-103.6c4.8-1.201 9.4-2.401 13.999-3.601m370.801.001h27.2c2.2.6 4.2 1.6 6.4 2c57.4 9 103.6 58.6 106 114.6c2.8 63-35.2 116.4-93.8 131.4c-6.2 1.6-12.4 3-18.6 4.4h-27.2c-2.2-.6-4.2-1.6-6.4-2c-57.4-8.8-103.601-58.6-106.2-114.6c-3-63 35.2-116.4 93.8-131.4c6.4-1.6 12.6-3 18.8-4.4" />
                    </svg>
                </button>
                <button class="center info icon-action" title="About">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M11 17h2v-6h-2zm1-8q.425 0 .713-.288T13 8t-.288-.712T12 7t-.712.288T11 8t.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22" />
                    </svg>
                </button>
                <button class="center icon-action" id="switch-theme" title="Switch theme">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <g fill="none">
                            <path fill="currentColor"
                                d="M2.75 12A9.25 9.25 0 0 0 12 21.25V2.75A9.25 9.25 0 0 0 2.75 12" />
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="1.5"
                                d="M12 21.25a9.25 9.25 0 0 0 0-18.5m0 18.5a9.25 9.25 0 0 1 0-18.5m0 18.5V2.75" />
                        </g>
                    </svg>
                </button>
            </div>
        </div>
        <div class="content">
            <div id="page-home" class="page active">
                <div class="h-s">
                    <h1>Welcome to UI Aqua!</h1>
                    <p>UI library like fresh water</p>
                </div>
                <div class="cards">
                    <div class="card">
                        <img class="card-img"
                            src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80"
                            alt="Forest">
                        <div class="card-body">
                            <div class="card-title">Misty Forest</div>
                            <div class="card-desc">A tranquil forest in the early morning mist. Nature at its calmest.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <img class="card-img"
                            src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80"
                            alt="Mountains">
                        <div class="card-body">
                            <div class="card-title">Mountain Peaks</div>
                            <div class="card-desc">Snow-capped mountains under a clear blue sky. Adventure awaits.</div>
                        </div>
                    </div>
                    <div class="card">
                        <img class="card-img"
                            src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400&q=80"
                            alt="Ocean">
                        <div class="card-body">
                            <div class="card-title">Ocean Waves</div>
                            <div class="card-desc">Rolling waves on a sunny beach. Feel the breeze and the salt air.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <img class="card-img"
                            src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80"
                            alt="Desert">
                        <div class="card-body">
                            <div class="card-title">Desert Dunes</div>
                            <div class="card-desc">Golden sand dunes stretching to the horizon. The beauty of solitude.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="page-search" class="page">
                <div class="h-s">
                    <h1>Search</h1>
                    <p>Find your favorite places and inspirations.</p>
                </div>
                <div style="margin-top:32px;" class="center">
                    <input type="text" placeholder="Type to search..." class="search">
                </div>
                <div style="margin-top:40px;" class="center no-recent-searches">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" />
                    </svg>
                    <div style="color:#aaa;">No recent searches.</div>
                </div>
            </div>
            <div id="page-showcase" class="page">
                <div class="h-s">
                    <h1>Showcase</h1>
                    <p>Explore UI Aqua's components and features.</p>
                </div>
                <div style="margin-top:32px;display:flex;flex-direction:column;align-items:center;gap:18px;">
                    <div
                        style="background:var(--background-color-popover);border-radius:14px;padding:18px 24px;box-shadow:0 2px 8px rgba(0,0,0,0.07);width:90%;max-width:340px;">
                        <strong>Popover</strong><br>
                        Try the options menu in the top right!
                    </div>
                    <div
                        style="background:var(--background-color-popover);border-radius:14px;padding:18px 24px;box-shadow:0 2px 8px rgba(0,0,0,0.07);width:90%;max-width:340px;">
                        <strong>Theme Switch</strong><br>
                        Use the moon icon to toggle dark mode.
                    </div>
                </div>
            </div>
        </div>
        <div class="nav-bar">
            <button class="nav-button" data-nav="home" aria-label="Home">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M4 21V9l8-6l8 6v12h-6v-7h-4v7z" />
                    </svg>
                </span>
                Home
            </button>
            <button class="nav-button" data-nav="search" aria-label="Search">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" />
                    </svg>
                </span>
                Search
            </button>
            <button class="nav-button" data-nav="showcase" aria-label="Showcase">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-4.703L16 20a1 1 0 0 0 1.186.77l3.912-.832a1 1 0 0 0 .77-1.186l-2.91-13.694a1 1 0 0 0-1.186-.77l-2.78.59A1 1 0 0 0 14 4h-4a1 1 0 0 0-1-1zm6 3h3v8h-3zm0 13v-3h3v3zM8 5v10H5V5zm0 12v2H5v-2zm9.332-.35l1.956-.416l.416 1.956l-1.956.416zm-.416-1.957l-1.663-7.825l1.956-.416l1.664 7.826z" />
                    </svg>
                </span>
                Showcase
            </button>
        </div>
    </div>
    <div id="popup-menu" class="popup-menu" style="display: none;">
        <div class="popup-overlay"></div>
        <div class="popup-content">
            <div class="popup-header">
                <h2 class="popup-title">Menu</h2>
                <button class="popup-close" aria-label="Close">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            <ul class="popup-options">
                <li><button class="popup-option">Option 1</button></li>
                <li><button class="popup-option">Option 2</button></li>
                <li><button class="popup-option">Option 3</button></li>
            </ul>
        </div>
    </div>
    <div id="popover-menu" class="popover-menu" style="display: none;">
        <div class="popover-arrow"></div>
        <ul class="popover-options">
            <li>
                <button class="popover-option">
                    <span class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <path
                                    d="M19.1 4.9c-1.6-1.6-6 .3-9.9 4.2S3.4 17.4 5 19s6-.3 9.9-4.2c3.8-3.9 5.7-8.3 4.2-9.9" />
                            </g>
                        </svg>
                    </span>
                    Beach Ball
                </button>
            </li>
            <li>
                <button class="popover-option">
                    <span class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2">
                                <path d="m8 2l1.88 1.88m4.24 0L16 2M9 7.13V6a3 3 0 1 1 6 0v1.13" />
                                <path
                                    d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6m0 0v-9" />
                                <path
                                    d="M5 4.8C3.2 6.2 2 8.5 2 11h20c0-2.5-1.2-4.8-3-6.2M6.08 15h-4c.2 2.4 1.25 4.4 2.8 6m14.22 0a9 9.4 0 0 0 2.82-6h-4" />
                            </g>
                        </svg>
                    </span>
                    Report Bug
                </button>
            </li>
            <li>
                <button class="popover-option">
                    <span class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2">
                                <path
                                    d="M5 12a2 2 0 0 1-2-2a9 7 0 0 1 18 0a2 2 0 0 1-2 2l-3.5 4.1c-.8 1-2.4 1.1-3.4.3L7 12" />
                                <path
                                    d="M11.7 16H4a2 2 0 0 1 0-4h16a2 2 0 0 1 0 4h-4.3M5 16a2 2 0 0 0-2 2c0 1.7 1.3 3 3 3h12c1.7 0 3-1.3 3-3a2 2 0 0 0-2-2" />
                            </g>
                        </svg>
                    </span>
                    Burger
                </button>
            </li>
        </ul>
    </div>

</body>
<script>
    const themeToggleButton = document.getElementById('switch-theme');
    const popupMenu = document.getElementById('popup-menu');
    const popupCloseButton = popupMenu.querySelector('.popup-close');
    const optionsButton = document.querySelector('.options');
    const popoverMenu = document.getElementById('popover-menu');
    const popoverArrow = popoverMenu.querySelector('.popover-arrow');

    function showPopoverMenu() {
        const rect = optionsButton.getBoundingClientRect();
        popoverMenu.style.display = 'block';
        requestAnimationFrame(() => {
            // Calculate transform-origin to zoom from the icon
            const scrollY = window.scrollY || window.pageYOffset;
            const scrollX = window.scrollX || window.pageXOffset;
            const popoverWidth = popoverMenu.offsetWidth;
            let popoverLeft = rect.left + scrollX - popoverWidth / 2 + rect.width / 2;
            popoverMenu.style.top = `${rect.bottom + scrollY + 8}px`;

            // Ensure the popover stays within the viewport horizontally
            const viewportWidth = window.innerWidth;
            if (popoverLeft < 8) {
            popoverLeft = 8; // Minimum margin from the left edge
            } else if (popoverLeft + popoverWidth > viewportWidth - 8) {
            popoverLeft = viewportWidth - popoverWidth - 8; // Minimum margin from the right edge
            }
            popoverMenu.style.left = `${popoverLeft}px`;

            // Set transform-origin to the icon's center relative to the popover
            const iconCenterX = rect.left + rect.width / 2 + scrollX;
            const popoverOriginX = iconCenterX - popoverLeft;
            popoverMenu.style.transformOrigin = `${popoverOriginX}px 0`;

            // Position the arrow to point to the center of the button
            const arrowWidth = popoverArrow.offsetWidth;
            const buttonCenter = rect.left + rect.width / 2;
            const popoverLeftEdge = popoverLeft;
            let arrowLeft = buttonCenter - popoverLeftEdge - arrowWidth / 2;
            arrowLeft = Math.max(8, Math.min(arrowLeft, popoverWidth - arrowWidth - 8));
            popoverArrow.style.left = `${arrowLeft}px`;

            popoverMenu.classList.add('show');
        });
    }

    function hidePopoverMenu() {
        popoverMenu.classList.remove('show');
        setTimeout(() => {
            popoverMenu.style.display = 'none';
        }, 250);
    }

    optionsButton.addEventListener('click', (e) => {
        e.stopPropagation();
        if (popoverMenu.classList.contains('show')) {
            hidePopoverMenu();
        } else {
            showPopoverMenu();
        }
    });

    document.addEventListener('click', (e) => {
        if (!popoverMenu.contains(e.target) && e.target !== optionsButton) {
            hidePopoverMenu();
        }
    });

    window.addEventListener('resize', hidePopoverMenu);
    window.addEventListener('scroll', hidePopoverMenu);

    themeToggleButton.addEventListener('click', () => {
        if (document.documentElement.hasAttribute('data-theme')) {
            document.documentElement.removeAttribute('data-theme');
        } else {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    });

    const popoverOptions = popoverMenu.querySelectorAll('.popover-option');

    popoverOptions.forEach(option => {
        option.addEventListener('click', () => {
            hidePopoverMenu();
        });
    });

    const navButtons = document.querySelectorAll('.nav-button');
    const pages = {
        home: document.getElementById('page-home'),
        search: document.getElementById('page-search'),
        showcase: document.getElementById('page-showcase')
    };
    let currentPage = 'home';

    function showPage(page) {
        if (page === currentPage) return;
        const prev = pages[currentPage];
        const next = pages[page];
        if (!next) return;

        // Remove all exit classes from all pages
        Object.values(pages).forEach(p => p.classList.remove('exit-left', 'exit-right', 'active'));

        const prevOrder = pageOrder(currentPage);
        const nextOrder = pageOrder(page);

        if (nextOrder > prevOrder) {
            // Forward: current slides left, next slides in from right
            prev.classList.add('exit-left');
            next.style.transform = 'translateX(100%)';
            setTimeout(() => {
                next.classList.add('active');
                next.style.transform = '';
            }, 10);
        } else {
            // Backward: current slides right, next slides in from left
            prev.classList.add('exit-right');
            next.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                next.classList.add('active');
                next.style.transform = '';
            }, 10);
        }

        setTimeout(() => {
            prev.classList.remove('exit-left', 'exit-right');
        }, 440);

        // Scroll to top of content and window
        const content = document.querySelector('.content');
        if (content) content.scrollTo({ top: 0, behavior: 'auto' });
        window.scrollTo({ top: 0, behavior: 'auto' });

        currentPage = page;
    }

    function pageOrder(page) {
        return ['home', 'search', 'showcase'].indexOf(page);
    }
    navButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const nav = btn.getAttribute('data-nav');
            showPage(nav);
        });
    });
</script>

</html>